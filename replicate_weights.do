global dir "/YourDirectoryHere"
cd "$dir"



* Set path to JULY 2014 replicate weight ASCII data file
local datafile "$dir/data/raw/jul14srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
    qstnum     1-5   ///
    occurnum   6-7   ///
    repwgt0   8-17  ///
    repwgt1   18-27 ///
    repwgt2   28-37 ///
    repwgt3   38-47 ///
    repwgt4   48-57 ///
    repwgt5   58-67 ///
    repwgt6   68-77 ///
    repwgt7   78-87 ///
    repwgt8   88-97 ///
    repwgt9   98-107 ///
    repwgt10  108-117 ///
    repwgt11  118-127 ///
    repwgt12  128-137 ///
    repwgt13  138-147 ///
    repwgt14  148-157 ///
    repwgt15  158-167 ///
    repwgt16  168-177 ///
    repwgt17  178-187 ///
    repwgt18  188-197 ///
    repwgt19  198-207 ///
    repwgt20  208-217 ///
    repwgt21  218-227 ///
    repwgt22  228-237 ///
    repwgt23  238-247 ///
    repwgt24  248-257 ///
    repwgt25  258-267 ///
    repwgt26  268-277 ///
    repwgt27  278-287 ///
    repwgt28  288-297 ///
    repwgt29  298-307 ///
    repwgt30  308-317 ///
    repwgt31  318-327 ///
    repwgt32  328-337 ///
    repwgt33  338-347 ///
    repwgt34  348-357 ///
    repwgt35  358-367 ///
    repwgt36  368-377 ///
    repwgt37  378-387 ///
    repwgt38  388-397 ///
    repwgt39  399-407 ///
    repwgt40  408-417 ///
    repwgt41  418-427 ///
    repwgt42  428-437 ///
    repwgt43  438-447 ///
    repwgt44  448-457 ///
    repwgt45  458-467 ///
    repwgt46  468-477 ///
    repwgt47  478-487 ///
    repwgt48  488-497 ///
    repwgt49  498-507 ///
    repwgt50  508-517 ///
    repwgt51  518-527 ///
    repwgt52  528-537 ///
    repwgt53  538-547 ///
    repwgt54  548-557 ///
    repwgt55  558-567 ///
    repwgt56  568-577 ///
    repwgt57  578-587 ///
    repwgt58  588-597 ///
    repwgt59  598-607 ///
    repwgt60  608-617 ///
    repwgt61  618-627 ///
    repwgt62  628-637 ///
    repwgt63  638-647 ///
    repwgt64  648-657 ///
    repwgt65  658-667 ///
    repwgt66  668-677 ///
    repwgt67  678-687 ///
    repwgt68  688-697 ///
    repwgt69  699-707 ///
    repwgt70  708-717 ///
    repwgt71  718-727 ///
    repwgt72  728-737 ///
    repwgt73  738-747 ///
    repwgt74  748-757 ///
    repwgt75  758-767 ///
    repwgt76  768-777 ///
    repwgt77  778-787 ///
    repwgt78  788-797 ///
    repwgt79  798-807 ///
    repwgt80  808-817 ///
    repwgt81  818-827 ///
    repwgt82  828-837 ///
    repwgt83  838-847 ///
    repwgt84  848-857 ///
    repwgt85  858-867 ///
    repwgt86  868-877 ///
    repwgt87  878-887 ///
    repwgt88  888-897 ///
    repwgt89  898-907 ///
    repwgt90  908-917 ///
    repwgt91  918-927 ///
    repwgt92  928-937 ///
    repwgt93  938-947 ///
    repwgt94  948-957 ///
    repwgt95  958-967 ///
    repwgt96  968-977 ///
    repwgt97  978-987 ///
    repwgt98  988-997 ///
    repwgt99  998-1007 ///
    repwgt100 1008-1017 ///
    repwgt101 1018-1027 ///
    repwgt102 1028-1037 ///
    repwgt103 1038-1047 ///
    repwgt104 1048-1057 ///
    repwgt105 1058-1067 ///
    repwgt106 1068-1077 ///
    repwgt107 1078-1087 ///
    repwgt108 1088-1097 ///
    repwgt109 1098-1107 ///
    repwgt110 1108-1117 ///
    repwgt111 1118-1127 ///
    repwgt112 1128-1137 ///
    repwgt113 1138-1147 ///
    repwgt114 1148-1157 ///
    repwgt115 1158-1167 ///
    repwgt116 1168-1177 ///
    repwgt117 1178-1187 ///
    repwgt118 1188-1197 ///
    repwgt119 1198-1207 ///
    repwgt120 1208-1217 ///
    repwgt121 1218-1227 ///
    repwgt122 1228-1237 ///
    repwgt123 1238-1247 ///
    repwgt124 1248-1257 ///
    repwgt125 1258-1267 ///
    repwgt126 1268-1277 ///
    repwgt127 1278-1287 ///
    repwgt128 1288-1297 ///
    repwgt129 1298-1307 ///
    repwgt130 1308-1317 ///
    repwgt131 1318-1327 ///
    repwgt132 1328-1337 ///
    repwgt133 1338-1347 ///
    repwgt134 1348-1357 ///
    repwgt135 1358-1367 ///
    repwgt136 1368-1377 ///
    repwgt137 1378-1387 ///
    repwgt138 1388-1397 ///
    repwgt139 1398-1407 ///
    repwgt140 1408-1417 ///
    repwgt141 1418-1427 ///
    repwgt142 1428-1437 ///
    repwgt143 1438-1447 ///
    repwgt144 1448-1457 ///
    repwgt145 1458-1467 ///
    repwgt146 1468-1477 ///
    repwgt147 1478-1487 ///
    repwgt148 1488-1497 ///
    repwgt149 1498-1507 ///
    repwgt150 1508-1517 ///
    repwgt151 1518-1527 ///
    repwgt152 1528-1537 ///
    repwgt153 1538-1547 ///
    repwgt154 1548-1557 ///
    repwgt155 1558-1567 ///
    repwgt156 1568-1577 ///
    repwgt157 1578-1587 ///
    repwgt158 1588-1597 ///
    repwgt159 1598-1607 ///
    repwgt160 1608-1617 ///
using `datafile', clear

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/jul14srrep.dta", replace

********************************************************************************

* Set path to JAN 2015 replicate weight ASCII file
local datafile "$dir/data/raw/jan15srrep.dat"

clear

* Define variable positions and read-in widths using infix
infix ///
    str5  qstnum     1-5   ///
    str2  occurnum   6-7   ///
    repwgt0   8-17  ///
    repwgt1   18-27 ///
    repwgt2   28-37 ///
    repwgt3   38-47 ///
    repwgt4   48-57 ///
    repwgt5   58-67 ///
    repwgt6   68-77 ///
    repwgt7   78-87 ///
    repwgt8   88-97 ///
    repwgt9   98-107 ///
    repwgt10  108-117 ///
    repwgt11  118-127 ///
    repwgt12  128-137 ///
    repwgt13  138-147 ///
    repwgt14  148-157 ///
    repwgt15  158-167 ///
    repwgt16  168-177 ///
    repwgt17  178-187 ///
    repwgt18  188-197 ///
    repwgt19  198-207 ///
    repwgt20  208-217 ///
    repwgt21  218-227 ///
    repwgt22  228-237 ///
    repwgt23  238-247 ///
    repwgt24  248-257 ///
    repwgt25  258-267 ///
    repwgt26  268-277 ///
    repwgt27  278-287 ///
    repwgt28  288-297 ///
    repwgt29  298-307 ///
    repwgt30  308-317 ///
    repwgt31  318-327 ///
    repwgt32  328-337 ///
    repwgt33  338-347 ///
    repwgt34  348-357 ///
    repwgt35  358-367 ///
    repwgt36  368-377 ///
    repwgt37  378-387 ///
    repwgt38  388-397 ///
    repwgt39  399-407 ///
    repwgt40  408-417 ///
    repwgt41  418-427 ///
    repwgt42  428-437 ///
    repwgt43  438-447 ///
    repwgt44  448-457 ///
    repwgt45  458-467 ///
    repwgt46  468-477 ///
    repwgt47  478-487 ///
    repwgt48  488-497 ///
    repwgt49  498-507 ///
    repwgt50  508-517 ///
    repwgt51  518-527 ///
    repwgt52  528-537 ///
    repwgt53  538-547 ///
    repwgt54  548-557 ///
    repwgt55  558-567 ///
    repwgt56  568-577 ///
    repwgt57  578-587 ///
    repwgt58  588-597 ///
    repwgt59  598-607 ///
    repwgt60  608-617 ///
    repwgt61  618-627 ///
    repwgt62  628-637 ///
    repwgt63  638-647 ///
    repwgt64  648-657 ///
    repwgt65  658-667 ///
    repwgt66  668-677 ///
    repwgt67  678-687 ///
    repwgt68  688-697 ///
    repwgt69  699-707 ///
    repwgt70  708-717 ///
    repwgt71  718-727 ///
    repwgt72  728-737 ///
    repwgt73  738-747 ///
    repwgt74  748-757 ///
    repwgt75  758-767 ///
    repwgt76  768-777 ///
    repwgt77  778-787 ///
    repwgt78  788-797 ///
    repwgt79  798-807 ///
    repwgt80  808-817 ///
    repwgt81  818-827 ///
    repwgt82  828-837 ///
    repwgt83  838-847 ///
    repwgt84  848-857 ///
    repwgt85  858-867 ///
    repwgt86  868-877 ///
    repwgt87  878-887 ///
    repwgt88  888-897 ///
    repwgt89  898-907 ///
    repwgt90  908-917 ///
    repwgt91  918-927 ///
    repwgt92  928-937 ///
    repwgt93  938-947 ///
    repwgt94  948-957 ///
    repwgt95  958-967 ///
    repwgt96  968-977 ///
    repwgt97  978-987 ///
    repwgt98  988-997 ///
    repwgt99  998-1007 ///
    repwgt100 1008-1017 ///
    repwgt101 1018-1027 ///
    repwgt102 1028-1037 ///
    repwgt103 1038-1047 ///
    repwgt104 1048-1057 ///
    repwgt105 1058-1067 ///
    repwgt106 1068-1077 ///
    repwgt107 1078-1087 ///
    repwgt108 1088-1097 ///
    repwgt109 1098-1107 ///
    repwgt110 1108-1117 ///
    repwgt111 1118-1127 ///
    repwgt112 1128-1137 ///
    repwgt113 1138-1147 ///
    repwgt114 1148-1157 ///
    repwgt115 1158-1167 ///
    repwgt116 1168-1177 ///
    repwgt117 1178-1187 ///
    repwgt118 1188-1197 ///
    repwgt119 1198-1207 ///
    repwgt120 1208-1217 ///
    repwgt121 1218-1227 ///
    repwgt122 1228-1237 ///
    repwgt123 1238-1247 ///
    repwgt124 1248-1257 ///
    repwgt125 1258-1267 ///
    repwgt126 1268-1277 ///
    repwgt127 1278-1287 ///
    repwgt128 1288-1297 ///
    repwgt129 1298-1307 ///
    repwgt130 1308-1317 ///
    repwgt131 1318-1327 ///
    repwgt132 1328-1337 ///
    repwgt133 1338-1347 ///
    repwgt134 1348-1357 ///
    repwgt135 1358-1367 ///
    repwgt136 1368-1377 ///
    repwgt137 1378-1387 ///
    repwgt138 1388-1397 ///
    repwgt139 1398-1407 ///
    repwgt140 1408-1417 ///
    repwgt141 1418-1427 ///
    repwgt142 1428-1437 ///
    repwgt143 1438-1447 ///
    repwgt144 1448-1457 ///
    repwgt145 1458-1467 ///
    repwgt146 1468-1477 ///
    repwgt147 1478-1487 ///
    repwgt148 1488-1497 ///
    repwgt149 1498-1507 ///
    repwgt150 1508-1517 ///
    repwgt151 1518-1527 ///
    repwgt152 1528-1537 ///
    repwgt153 1538-1547 ///
    repwgt154 1548-1557 ///
    repwgt155 1558-1567 ///
    repwgt156 1568-1577 ///
    repwgt157 1578-1587 ///
    repwgt158 1588-1597 ///
    repwgt159 1598-1607 ///
    repwgt160 1608-1617 ///
using `datafile', clear

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/jan15srrep.dta", replace

********************************************************************************

* Set path to MAY 2015 replicate weight ASCII file
local datafile "$dir/data/raw/may15srrep.dat"

clear 


* Define variable positions and read-in widths using infix
infix ///
    qstnum     1-5   ///
    occurnum   6-7   ///
    repwgt0   8-17  ///
    repwgt1   18-27 ///
    repwgt2   28-37 ///
    repwgt3   38-47 ///
    repwgt4   48-57 ///
    repwgt5   58-67 ///
    repwgt6   68-77 ///
    repwgt7   78-87 ///
    repwgt8   88-97 ///
    repwgt9   98-107 ///
    repwgt10  108-117 ///
    repwgt11  118-127 ///
    repwgt12  128-137 ///
    repwgt13  138-147 ///
    repwgt14  148-157 ///
    repwgt15  158-167 ///
    repwgt16  168-177 ///
    repwgt17  178-187 ///
    repwgt18  188-197 ///
    repwgt19  198-207 ///
    repwgt20  208-217 ///
    repwgt21  218-227 ///
    repwgt22  228-237 ///
    repwgt23  238-247 ///
    repwgt24  248-257 ///
    repwgt25  258-267 ///
    repwgt26  268-277 ///
    repwgt27  278-287 ///
    repwgt28  288-297 ///
    repwgt29  298-307 ///
    repwgt30  308-317 ///
    repwgt31  318-327 ///
    repwgt32  328-337 ///
    repwgt33  338-347 ///
    repwgt34  348-357 ///
    repwgt35  358-367 ///
    repwgt36  368-377 ///
    repwgt37  378-387 ///
    repwgt38  388-397 ///
    repwgt39  399-407 ///
    repwgt40  408-417 ///
    repwgt41  418-427 ///
    repwgt42  428-437 ///
    repwgt43  438-447 ///
    repwgt44  448-457 ///
    repwgt45  458-467 ///
    repwgt46  468-477 ///
    repwgt47  478-487 ///
    repwgt48  488-497 ///
    repwgt49  498-507 ///
    repwgt50  508-517 ///
    repwgt51  518-527 ///
    repwgt52  528-537 ///
    repwgt53  538-547 ///
    repwgt54  548-557 ///
    repwgt55  558-567 ///
    repwgt56  568-577 ///
    repwgt57  578-587 ///
    repwgt58  588-597 ///
    repwgt59  598-607 ///
    repwgt60  608-617 ///
    repwgt61  618-627 ///
    repwgt62  628-637 ///
    repwgt63  638-647 ///
    repwgt64  648-657 ///
    repwgt65  658-667 ///
    repwgt66  668-677 ///
    repwgt67  678-687 ///
    repwgt68  688-697 ///
    repwgt69  699-707 ///
    repwgt70  708-717 ///
    repwgt71  718-727 ///
    repwgt72  728-737 ///
    repwgt73  738-747 ///
    repwgt74  748-757 ///
    repwgt75  758-767 ///
    repwgt76  768-777 ///
    repwgt77  778-787 ///
    repwgt78  788-797 ///
    repwgt79  798-807 ///
    repwgt80  808-817 ///
    repwgt81  818-827 ///
    repwgt82  828-837 ///
    repwgt83  838-847 ///
    repwgt84  848-857 ///
    repwgt85  858-867 ///
    repwgt86  868-877 ///
    repwgt87  878-887 ///
    repwgt88  888-897 ///
    repwgt89  898-907 ///
    repwgt90  908-917 ///
    repwgt91  918-927 ///
    repwgt92  928-937 ///
    repwgt93  938-947 ///
    repwgt94  948-957 ///
    repwgt95  958-967 ///
    repwgt96  968-977 ///
    repwgt97  978-987 ///
    repwgt98  988-997 ///
    repwgt99  998-1007 ///
    repwgt100 1008-1017 ///
    repwgt101 1018-1027 ///
    repwgt102 1028-1037 ///
    repwgt103 1038-1047 ///
    repwgt104 1048-1057 ///
    repwgt105 1058-1067 ///
    repwgt106 1068-1077 ///
    repwgt107 1078-1087 ///
    repwgt108 1088-1097 ///
    repwgt109 1098-1107 ///
    repwgt110 1108-1117 ///
    repwgt111 1118-1127 ///
    repwgt112 1128-1137 ///
    repwgt113 1138-1147 ///
    repwgt114 1148-1157 ///
    repwgt115 1158-1167 ///
    repwgt116 1168-1177 ///
    repwgt117 1178-1187 ///
    repwgt118 1188-1197 ///
    repwgt119 1198-1207 ///
    repwgt120 1208-1217 ///
    repwgt121 1218-1227 ///
    repwgt122 1228-1237 ///
    repwgt123 1238-1247 ///
    repwgt124 1248-1257 ///
    repwgt125 1258-1267 ///
    repwgt126 1268-1277 ///
    repwgt127 1278-1287 ///
    repwgt128 1288-1297 ///
    repwgt129 1298-1307 ///
    repwgt130 1308-1317 ///
    repwgt131 1318-1327 ///
    repwgt132 1328-1337 ///
    repwgt133 1338-1347 ///
    repwgt134 1348-1357 ///
    repwgt135 1358-1367 ///
    repwgt136 1368-1377 ///
    repwgt137 1378-1387 ///
    repwgt138 1388-1397 ///
    repwgt139 1398-1407 ///
    repwgt140 1408-1417 ///
    repwgt141 1418-1427 ///
    repwgt142 1428-1437 ///
    repwgt143 1438-1447 ///
    repwgt144 1448-1457 ///
    repwgt145 1458-1467 ///
    repwgt146 1468-1477 ///
    repwgt147 1478-1487 ///
    repwgt148 1488-1497 ///
    repwgt149 1498-1507 ///
    repwgt150 1508-1517 ///
    repwgt151 1518-1527 ///
    repwgt152 1528-1537 ///
    repwgt153 1538-1547 ///
    repwgt154 1548-1557 ///
    repwgt155 1558-1567 ///
    repwgt156 1568-1577 ///
    repwgt157 1578-1587 ///
    repwgt158 1588-1597 ///
    repwgt159 1598-1607 ///
    repwgt160 1608-1617 ///
using `datafile', clear

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/may15srrep.dta", replace

********************************************************************************


* Set path to JULY 2018 replicate weight ASCII file
local datafile "$dir/data/raw/jul18srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
    qstnum       1-5 ///
    occurnum     6-7 ///
    repwgt0     8-17 ///
    repwgt1    18-27 ///
    repwgt2    28-37 ///
    repwgt3    38-47 ///
    repwgt4    48-57 ///
    repwgt5    58-67 ///
    repwgt6    68-77 ///
    repwgt7    78-87 ///
    repwgt8    88-97 ///
    repwgt9    98-107 ///
    repwgt10  108-117 ///
    repwgt11  118-127 ///
    repwgt12  128-137 ///
    repwgt13  138-147 ///
    repwgt14  148-157 ///
    repwgt15  158-167 ///
    repwgt16  168-177 ///
    repwgt17  178-187 ///
    repwgt18  188-197 ///
    repwgt19  198-207 ///
    repwgt20  208-217 ///
    repwgt21  218-227 ///
    repwgt22  228-237 ///
    repwgt23  238-247 ///
    repwgt24  248-257 ///
    repwgt25  258-267 ///
    repwgt26  268-277 ///
    repwgt27  278-287 ///
    repwgt28  288-297 ///
    repwgt29  298-307 ///
    repwgt30  308-317 ///
    repwgt31  318-327 ///
    repwgt32  328-337 ///
    repwgt33  338-347 ///
    repwgt34  348-357 ///
    repwgt35  358-367 ///
    repwgt36  368-377 ///
    repwgt37  378-387 ///
    repwgt38  388-397 ///
    repwgt39  399-407 ///
    repwgt40  408-417 ///
    repwgt41  418-427 ///
    repwgt42  428-437 ///
    repwgt43  438-447 ///
    repwgt44  448-457 ///
    repwgt45  458-467 ///
    repwgt46  468-477 ///
    repwgt47  478-487 ///
    repwgt48  488-497 ///
    repwgt49  498-507 ///
    repwgt50  508-517 ///
    repwgt51  518-527 ///
    repwgt52  528-537 ///
    repwgt53  538-547 ///
    repwgt54  548-557 ///
    repwgt55  558-567 ///
    repwgt56  568-577 ///
    repwgt57  578-587 ///
    repwgt58  588-597 ///
    repwgt59  598-607 ///
    repwgt60  608-617 ///
    repwgt61  618-627 ///
    repwgt62  628-637 ///
    repwgt63  638-647 ///
    repwgt64  648-657 ///
    repwgt65  658-667 ///
    repwgt66  668-677 ///
    repwgt67  678-687 ///
    repwgt68  688-697 ///
    repwgt69  699-707 ///
    repwgt70  708-717 ///
    repwgt71  718-727 ///
    repwgt72  728-737 ///
    repwgt73  738-747 ///
    repwgt74  748-757 ///
    repwgt75  758-767 ///
    repwgt76  768-777 ///
    repwgt77  778-787 ///
    repwgt78  788-797 ///
    repwgt79  798-807 ///
    repwgt80  808-817 ///
    repwgt81  818-827 ///
    repwgt82  828-837 ///
    repwgt83  838-847 ///
    repwgt84  848-857 ///
    repwgt85  858-867 ///
    repwgt86  868-877 ///
    repwgt87  878-887 ///
    repwgt88  888-897 ///
    repwgt89  898-907 ///
    repwgt90  908-917 ///
    repwgt91  918-927 ///
    repwgt92  928-937 ///
    repwgt93  938-947 ///
    repwgt94  948-957 ///
    repwgt95  958-967 ///
    repwgt96  968-977 ///
    repwgt97  978-987 ///
    repwgt98  988-997 ///
    repwgt99  998-1007 ///
    repwgt100 1008-1017 ///
    repwgt101 1018-1027 ///
    repwgt102 1028-1037 ///
    repwgt103 1038-1047 ///
    repwgt104 1048-1057 ///
    repwgt105 1058-1067 ///
    repwgt106 1068-1077 ///
    repwgt107 1078-1087 ///
    repwgt108 1088-1097 ///
    repwgt109 1098-1107 ///
    repwgt110 1108-1117 ///
    repwgt111 1118-1127 ///
    repwgt112 1128-1137 ///
    repwgt113 1138-1147 ///
    repwgt114 1148-1157 ///
    repwgt115 1158-1167 ///
    repwgt116 1168-1177 ///
    repwgt117 1178-1187 ///
    repwgt118 1188-1197 ///
    repwgt119 1198-1207 ///
    repwgt120 1208-1217 ///
    repwgt121 1218-1227 ///
    repwgt122 1228-1237 ///
    repwgt123 1238-1247 ///
    repwgt124 1248-1257 ///
    repwgt125 1258-1267 ///
    repwgt126 1268-1277 ///
    repwgt127 1278-1287 ///
    repwgt128 1288-1297 ///
    repwgt129 1298-1307 ///
    repwgt130 1308-1317 ///
    repwgt131 1318-1327 ///
    repwgt132 1328-1337 ///
    repwgt133 1338-1347 ///
    repwgt134 1348-1357 ///
    repwgt135 1358-1367 ///
    repwgt136 1368-1377 ///
    repwgt137 1378-1387 ///
    repwgt138 1388-1397 ///
    repwgt139 1398-1407 ///
    repwgt140 1408-1417 ///
    repwgt141 1418-1427 ///
    repwgt142 1428-1437 ///
    repwgt143 1438-1447 ///
    repwgt144 1448-1457 ///
    repwgt145 1458-1467 ///
    repwgt146 1468-1477 ///
    repwgt147 1478-1487 ///
    repwgt148 1488-1497 ///
    repwgt149 1498-1507 ///
    repwgt150 1508-1517 ///
    repwgt151 1518-1527 ///
    repwgt152 1528-1537 ///
    repwgt153 1538-1547 ///
    repwgt154 1548-1557 ///
    repwgt155 1558-1567 ///
    repwgt156 1568-1577 ///
    repwgt157 1578-1587 ///
    repwgt158 1588-1597 ///
    repwgt159 1598-1607 ///
    repwgt160 1608-1617 ///
using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/jul18srrep.dta", clear



********************************************************************************

* Set path to JAN 2019 replicate weight ASCII file
local datafile "$dir/data/raw/jan19srrep.dat"

clear 

* Define dictionary for fixed-width ASCII layout
infix ///
  qstnum     1-5 ///
  occurnum   6-7 ///
  repwgt0    8-17 ///
  repwgt1    18-27 ///
  repwgt2    28-37 ///
  repwgt3    38-47 ///
  repwgt4    48-57 ///
  repwgt5    58-67 ///
  repwgt6    68-77 ///
  repwgt7    78-87 ///
  repwgt8    88-97 ///
  repwgt9    98-107 ///
  repwgt10   108-117 ///
  repwgt11   118-127 ///
  repwgt12   128-137 ///
  repwgt13   138-147 ///
  repwgt14   148-157 ///
  repwgt15   158-167 ///
  repwgt16   168-177 ///
  repwgt17   178-187 ///
  repwgt18   188-197 ///
  repwgt19   198-207 ///
  repwgt20   208-217 ///
  repwgt21   218-227 ///
  repwgt22   228-237 ///
  repwgt23   238-247 ///
  repwgt24   248-257 ///
  repwgt25   258-267 ///
  repwgt26   268-277 ///
  repwgt27   278-287 ///
  repwgt28   288-297 ///
  repwgt29   298-307 ///
  repwgt30   308-317 ///
  repwgt31   318-327 ///
  repwgt32   328-337 ///
  repwgt33   338-347 ///
  repwgt34   348-357 ///
  repwgt35   358-367 ///
  repwgt36   368-377 ///
  repwgt37   378-387 ///
  repwgt38   388-397 ///
  repwgt39   399-407 ///
  repwgt40   408-417 ///
  repwgt41   418-427 ///
  repwgt42   428-437 ///
  repwgt43   438-447 ///
  repwgt44   448-457 ///
  repwgt45   458-467 ///
  repwgt46   468-477 ///
  repwgt47   478-487 ///
  repwgt48   488-497 ///
  repwgt49   498-507 ///
  repwgt50   508-517 ///
  repwgt51   518-527 ///
  repwgt52   528-537 ///
  repwgt53   538-547 ///
  repwgt54   548-557 ///
  repwgt55   558-567 ///
  repwgt56   568-577 ///
  repwgt57   578-587 ///
  repwgt58   588-597 ///
  repwgt59   598-607 ///
  repwgt60   608-617 ///
  repwgt61   618-627 ///
  repwgt62   628-637 ///
  repwgt63   638-647 ///
  repwgt64   648-657 ///
  repwgt65   658-667 ///
  repwgt66   668-677 ///
  repwgt67   678-687 ///
  repwgt68   688-697 ///
  repwgt69   699-707 ///
  repwgt70   708-717 ///
  repwgt71   718-727 ///
  repwgt72   728-737 ///
  repwgt73   738-747 ///
  repwgt74   748-757 ///
  repwgt75   758-767 ///
  repwgt76   768-777 ///
  repwgt77   778-787 ///
  repwgt78   788-797 ///
  repwgt79   798-807 ///
  repwgt80   808-817 ///
  repwgt81   818-827 ///
  repwgt82   828-837 ///
  repwgt83   838-847 ///
  repwgt84   848-857 ///
  repwgt85   858-867 ///
  repwgt86   868-877 ///
  repwgt87   878-887 ///
  repwgt88   888-897 ///
  repwgt89   898-907 ///
  repwgt90   908-917 ///
  repwgt91   918-927 ///
  repwgt92   928-937 ///
  repwgt93   938-947 ///
  repwgt94   948-957 ///
  repwgt95   958-967 ///
  repwgt96   968-977 ///
  repwgt97   978-987 ///
  repwgt98   988-997 ///
  repwgt99   998-1007 ///
  repwgt100  1008-1017 ///
  repwgt101  1018-1027 ///
  repwgt102  1028-1037 ///
  repwgt103  1038-1047 ///
  repwgt104  1048-1057 ///
  repwgt105  1058-1067 ///
  repwgt106  1068-1077 ///
  repwgt107  1078-1087 ///
  repwgt108  1088-1097 ///
  repwgt109  1098-1107 ///
  repwgt110  1108-1117 ///
  repwgt111  1118-1127 ///
  repwgt112  1128-1137 ///
  repwgt113  1138-1147 ///
  repwgt114  1148-1157 ///
  repwgt115  1158-1167 ///
  repwgt116  1168-1177 ///
  repwgt117  1178-1187 ///
  repwgt118  1188-1197 ///
  repwgt119  1198-1207 ///
  repwgt120  1208-1217 ///
  repwgt121  1218-1227 ///
  repwgt122  1228-1237 ///
  repwgt123  1238-1247 ///
  repwgt124  1248-1257 ///
  repwgt125  1258-1267 ///
  repwgt126  1268-1277 ///
  repwgt127  1278-1287 ///
  repwgt128  1288-1297 ///
  repwgt129  1298-1307 ///
  repwgt130  1308-1317 ///
  repwgt131  1318-1327 ///
  repwgt132  1328-1337 ///
  repwgt133  1338-1347 ///
  repwgt134  1348-1357 ///
  repwgt135  1358-1367 ///
  repwgt136  1368-1377 ///
  repwgt137  1378-1387 ///
  repwgt138  1388-1397 ///
  repwgt139  1398-1407 ///
  repwgt140  1408-1417 ///
  repwgt141  1418-1427 ///
  repwgt142  1428-1437 ///
  repwgt143  1438-1447 ///
  repwgt144  1448-1457 ///
  repwgt145  1458-1467 ///
  repwgt146  1468-1477 ///
  repwgt147  1478-1487 ///
  repwgt148  1488-1497 ///
  repwgt149  1498-1507 ///
  repwgt150  1508-1517 ///
  repwgt151  1518-1527 ///
  repwgt152  1528-1537 ///
  repwgt153  1538-1547 ///
  repwgt154  1548-1557 ///
  repwgt155  1558-1567 ///
  repwgt156  1568-1577 ///
  repwgt157  1578-1587 ///
  repwgt158  1588-1597 ///
  repwgt159  1598-1607 ///
  repwgt160  1608-1617 ///
using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/jan19srrep.dta", clear

********************************************************************************

* Set path to MAY 2019 replicate weight ASCII file
local datafile "$dir/data/raw/may19srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
    qstnum       1-5     ///
    occurnum     6-7     ///
    repwgt0      8-17    ///
    repwgt1      18-27   ///
    repwgt2      28-37   ///
    repwgt3      38-47   ///
    repwgt4      48-57   ///
    repwgt5      58-67   ///
    repwgt6      68-77   ///
    repwgt7      78-87   ///
    repwgt8      88-97   ///
    repwgt9      98-107  ///
    repwgt10     108-117 ///
    repwgt11     118-127 ///
    repwgt12     128-137 ///
    repwgt13     138-147 ///
    repwgt14     148-157 ///
    repwgt15     158-167 ///
    repwgt16     168-177 ///
    repwgt17     178-187 ///
    repwgt18     188-197 ///
    repwgt19     198-207 ///
    repwgt20     208-217 ///
    repwgt21     218-227 ///
    repwgt22     228-237 ///
    repwgt23     238-247 ///
    repwgt24     248-257 ///
    repwgt25     258-267 ///
    repwgt26     268-277 ///
    repwgt27     278-287 ///
    repwgt28     288-297 ///
    repwgt29     298-307 ///
    repwgt30     308-317 ///
    repwgt31     318-327 ///
    repwgt32     328-337 ///
    repwgt33     338-347 ///
    repwgt34     348-357 ///
    repwgt35     358-367 ///
    repwgt36     368-377 ///
    repwgt37     378-387 ///
    repwgt38     388-397 ///
    repwgt39     398-407 ///
    repwgt40     408-417 ///
    repwgt41     418-427 ///
    repwgt42     428-437 ///
    repwgt43     438-447 ///
    repwgt44     448-457 ///
    repwgt45     458-467 ///
    repwgt46     468-477 ///
    repwgt47     478-487 ///
    repwgt48     488-497 ///
    repwgt49     498-507 ///
    repwgt50     508-517 ///
    repwgt51     518-527 ///
    repwgt52     528-537 ///
    repwgt53     538-547 ///
    repwgt54     548-557 ///
    repwgt55     558-567 ///
    repwgt56     568-577 ///
    repwgt57     578-587 ///
    repwgt58     588-597 ///
    repwgt59     598-607 ///
    repwgt60     608-617 ///
    repwgt61     618-627 ///
    repwgt62     628-637 ///
    repwgt63     638-647 ///
    repwgt64     648-657 ///
    repwgt65     658-667 ///
    repwgt66     668-677 ///
    repwgt67     678-687 ///
    repwgt68     688-697 ///
    repwgt69     698-707 ///
    repwgt70     708-717 ///
    repwgt71     718-727 ///
    repwgt72     728-737 ///
    repwgt73     738-747 ///
    repwgt74     748-757 ///
    repwgt75     758-767 ///
    repwgt76     768-777 ///
    repwgt77     778-787 ///
    repwgt78     788-797 ///
    repwgt79     798-807 ///
    repwgt80     808-817 ///
    repwgt81     818-827 ///
    repwgt82     828-837 ///
    repwgt83     838-847 ///
    repwgt84     848-857 ///
    repwgt85     858-867 ///
    repwgt86     868-877 ///
    repwgt87     878-887 ///
    repwgt88     888-897 ///
    repwgt89     898-907 ///
    repwgt90     908-917 ///
    repwgt91     918-927 ///
    repwgt92     928-937 ///
    repwgt93     938-947 ///
    repwgt94     948-957 ///
    repwgt95     958-967 ///
    repwgt96     968-977 ///
    repwgt97     978-987 ///
    repwgt98     988-997 ///
    repwgt99     998-1007 ///
    repwgt100    1008-1017 ///
    repwgt101    1018-1027 ///
    repwgt102    1028-1037 ///
    repwgt103    1038-1047 ///
    repwgt104    1048-1057 ///
    repwgt105    1058-1067 ///
    repwgt106    1068-1077 ///
    repwgt107    1078-1087 ///
    repwgt108    1088-1097 ///
    repwgt109    1098-1107 ///
    repwgt110    1108-1117 ///
    repwgt111    1118-1127 ///
    repwgt112    1128-1137 ///
    repwgt113    1138-1147 ///
    repwgt114    1148-1157 ///
    repwgt115    1158-1167 ///
    repwgt116    1168-1177 ///
    repwgt117    1178-1187 ///
    repwgt118    1188-1197 ///
    repwgt119    1198-1207 ///
    repwgt120    1208-1217 ///
    repwgt121    1218-1227 ///
    repwgt122    1228-1237 ///
    repwgt123    1238-1247 ///
    repwgt124    1248-1257 ///
    repwgt125    1258-1267 ///
    repwgt126    1268-1277 ///
    repwgt127    1278-1287 ///
    repwgt128    1288-1297 ///
    repwgt129    1298-1307 ///
    repwgt130    1308-1317 ///
    repwgt131    1318-1327 ///
    repwgt132    1328-1337 ///
    repwgt133    1338-1347 ///
    repwgt134    1348-1357 ///
    repwgt135    1358-1367 ///
    repwgt136    1368-1377 ///
    repwgt137    1378-1387 ///
    repwgt138    1388-1397 ///
    repwgt139    1398-1407 ///
    repwgt140    1408-1417 ///
    repwgt141    1418-1427 ///
    repwgt142    1428-1437 ///
    repwgt143    1438-1447 ///
    repwgt144    1448-1457 ///
    repwgt145    1458-1467 ///
    repwgt146    1468-1477 ///
    repwgt147    1478-1487 ///
    repwgt148    1488-1497 ///
    repwgt149    1498-1507 ///
    repwgt150    1508-1517 ///
    repwgt151    1518-1527 ///
    repwgt152    1528-1537 ///
    repwgt153    1538-1547 ///
    repwgt154    1548-1557 ///
    repwgt155    1558-1567 ///
    repwgt156    1568-1577 ///
    repwgt157    1578-1587 ///
    repwgt158    1588-1597 ///
    repwgt159    1598-1607 ///
    repwgt160    1608-1617 ///
using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}


save "$dir/data/cleaned/may19srrep.dta", clear

********************************************************************************


* Set path to SEPT 2022 replicate weight ASCII file
local datafile "$dir/data/raw/sep22srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
  qstnum     1-5     ///
  occurnum   6-7     ///
  repwgt0    8-17    ///
  repwgt1    18-27   ///
  repwgt2    28-37   ///
  repwgt3    38-47   ///
  repwgt4    48-57   ///
  repwgt5    58-67   ///
  repwgt6    68-77   ///
  repwgt7    78-87   ///
  repwgt8    88-97   ///
  repwgt9    98-107  ///
  repwgt10   108-117 ///
  repwgt11   118-127 ///
  repwgt12   128-137 ///
  repwgt13   138-147 ///
  repwgt14   148-157 ///
  repwgt15   158-167 ///
  repwgt16   168-177 ///
  repwgt17   178-187 ///
  repwgt18   188-197 ///
  repwgt19   198-207 ///
  repwgt20   208-217 ///
  repwgt21   218-227 ///
  repwgt22   228-237 ///
  repwgt23   238-247 ///
  repwgt24   248-257 ///
  repwgt25   258-267 ///
  repwgt26   268-277 ///
  repwgt27   278-287 ///
  repwgt28   288-297 ///
  repwgt29   298-307 ///
  repwgt30   308-317 ///
  repwgt31   318-327 ///
  repwgt32   328-337 ///
  repwgt33   338-347 ///
  repwgt34   348-357 ///
  repwgt35   358-367 ///
  repwgt36   368-377 ///
  repwgt37   378-387 ///
  repwgt38   388-397 ///
  repwgt39   398-407 ///
  repwgt40   408-417 ///
  repwgt41   418-427 ///
  repwgt42   428-437 ///
  repwgt43   438-447 ///
  repwgt44   448-457 ///
  repwgt45   458-467 ///
  repwgt46   468-477 ///
  repwgt47   478-487 ///
  repwgt48   488-497 ///
  repwgt49   498-507 ///
  repwgt50   508-517 ///
  repwgt51   518-527 ///
  repwgt52   528-537 ///
  repwgt53   538-547 ///
  repwgt54   548-557 ///
  repwgt55   558-567 ///
  repwgt56   568-577 ///
  repwgt57   578-587 ///
  repwgt58   588-597 ///
  repwgt59   598-607 ///
  repwgt60   608-617 ///
  repwgt61   618-627 ///
  repwgt62   628-637 ///
  repwgt63   638-647 ///
  repwgt64   648-657 ///
  repwgt65   658-667 ///
  repwgt66   668-677 ///
  repwgt67   678-687 ///
  repwgt68   688-697 ///
  repwgt69   698-707 ///
  repwgt70   708-717 ///
  repwgt71   718-727 ///
  repwgt72   728-737 ///
  repwgt73   738-747 ///
  repwgt74   748-757 ///
  repwgt75   758-767 ///
  repwgt76   768-777 ///
  repwgt77   778-787 ///
  repwgt78   788-797 ///
  repwgt79   798-807 ///
  repwgt80   808-817 ///
  repwgt81   818-827 ///
  repwgt82   828-837 ///
  repwgt83   838-847 ///
  repwgt84   848-857 ///
  repwgt85   858-867 ///
  repwgt86   868-877 ///
  repwgt87   878-887 ///
  repwgt88   888-897 ///
  repwgt89   898-907 ///
  repwgt90   908-917 ///
  repwgt91   918-927 ///
  repwgt92   928-937 ///
  repwgt93   938-947 ///
  repwgt94   948-957 ///
  repwgt95   958-967 ///
  repwgt96   968-977 ///
  repwgt97   978-987 ///
  repwgt98   988-997 ///
  repwgt99   998-1007 ///
  repwgt100  1008-1017 ///
  repwgt101  1018-1027 ///
  repwgt102  1028-1037 ///
  repwgt103  1038-1047 ///
  repwgt104  1048-1057 ///
  repwgt105  1058-1067 ///
  repwgt106  1068-1077 ///
  repwgt107  1078-1087 ///
  repwgt108  1088-1097 ///
  repwgt109  1098-1107 ///
  repwgt110  1108-1117 ///
  repwgt111  1118-1127 ///
  repwgt112  1128-1137 ///
  repwgt113  1138-1147 ///
  repwgt114  1148-1157 ///
  repwgt115  1158-1167 ///
  repwgt116  1168-1177 ///
  repwgt117  1178-1187 ///
  repwgt118  1188-1197 ///
  repwgt119  1198-1207 ///
  repwgt120  1208-1217 ///
  repwgt121  1218-1227 ///
  repwgt122  1228-1237 ///
  repwgt123  1238-1247 ///
  repwgt124  1248-1257 ///
  repwgt125  1258-1267 ///
  repwgt126  1268-1277 ///
  repwgt127  1278-1287 ///
  repwgt128  1288-1297 ///
  repwgt129  1298-1307 ///
  repwgt130  1308-1317 ///
  repwgt131  1318-1327 ///
  repwgt132  1328-1337 ///
  repwgt133  1338-1347 ///
  repwgt134  1348-1357 ///
  repwgt135  1358-1367 ///
  repwgt136  1368-1377 ///
  repwgt137  1378-1387 ///
  repwgt138  1388-1397 ///
  repwgt139  1398-1407 ///
  repwgt140  1408-1417 ///
  repwgt141  1418-1427 ///
  repwgt142  1428-1437 ///
  repwgt143  1438-1447 ///
  repwgt144  1448-1457 ///
  repwgt145  1458-1467 ///
  repwgt146  1468-1477 ///
  repwgt147  1478-1487 ///
  repwgt148  1488-1497 ///
  repwgt149  1498-1507 ///
  repwgt150  1508-1517 ///
  repwgt151  1518-1527 ///
  repwgt152  1528-1537 ///
  repwgt153  1538-1547 ///
  repwgt154  1548-1557 ///
  repwgt155  1558-1567 ///
  repwgt156  1568-1577 ///
  repwgt157  1578-1587 ///
  repwgt158  1588-1597 ///
  repwgt159  1598-1607 ///
  repwgt160  1608-1617 ///
  using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/sep22srrep.dta", clear

********************************************************************************

* Set path to JAN 2023 replicate weight ASCII file
local datafile "$dir/data/raw/jan23srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
  qstnum    1-5     ///
  occurnum  6-7     ///
  repwgt0   8-17    ///
  repwgt1   18-27   ///
  repwgt2   28-37   ///
  repwgt3   38-47   ///
  repwgt4   48-57   ///
  repwgt5   58-67   ///
  repwgt6   68-77   ///
  repwgt7   78-87   ///
  repwgt8   88-97   ///
  repwgt9   98-107  ///
  repwgt10  108-117 ///
  repwgt11  118-127 ///
  repwgt12  128-137 ///
  repwgt13  138-147 ///
  repwgt14  148-157 ///
  repwgt15  158-167 ///
  repwgt16  168-177 ///
  repwgt17  178-187 ///
  repwgt18  188-197 ///
  repwgt19  198-207 ///
  repwgt20  208-217 ///
  repwgt21  218-227 ///
  repwgt22  228-237 ///
  repwgt23  238-247 ///
  repwgt24  248-257 ///
  repwgt25  258-267 ///
  repwgt26  268-277 ///
  repwgt27  278-287 ///
  repwgt28  288-297 ///
  repwgt29  298-307 ///
  repwgt30  308-317 ///
  repwgt31  318-327 ///
  repwgt32  328-337 ///
  repwgt33  338-347 ///
  repwgt34  348-357 ///
  repwgt35  358-367 ///
  repwgt36  368-377 ///
  repwgt37  378-387 ///
  repwgt38  388-397 ///
  repwgt39  398-407 ///
  repwgt40  408-417 ///
  repwgt41  418-427 ///
  repwgt42  428-437 ///
  repwgt43  438-447 ///
  repwgt44  448-457 ///
  repwgt45  458-467 ///
  repwgt46  468-477 ///
  repwgt47  478-487 ///
  repwgt48  488-497 ///
  repwgt49  498-507 ///
  repwgt50  508-517 ///
  repwgt51  518-527 ///
  repwgt52  528-537 ///
  repwgt53  538-547 ///
  repwgt54  548-557 ///
  repwgt55  558-567 ///
  repwgt56  568-577 ///
  repwgt57  578-587 ///
  repwgt58  588-597 ///
  repwgt59  598-607 ///
  repwgt60  608-617 ///
  repwgt61  618-627 ///
  repwgt62  628-637 ///
  repwgt63  638-647 ///
  repwgt64  648-657 ///
  repwgt65  658-667 ///
  repwgt66  668-677 ///
  repwgt67  678-687 ///
  repwgt68  688-697 ///
  repwgt69  698-707 ///
  repwgt70  708-717 ///
  repwgt71  718-727 ///
  repwgt72  728-737 ///
  repwgt73  738-747 ///
  repwgt74  748-757 ///
  repwgt75  758-767 ///
  repwgt76  768-777 ///
  repwgt77  778-787 ///
  repwgt78  788-797 ///
  repwgt79  798-807 ///
  repwgt80  808-817 ///
  repwgt81  818-827 ///
  repwgt82  828-837 ///
  repwgt83  838-847 ///
  repwgt84  848-857 ///
  repwgt85  858-867 ///
  repwgt86  868-877 ///
  repwgt87  878-887 ///
  repwgt88  888-897 ///
  repwgt89  898-907 ///
  repwgt90  908-917 ///
  repwgt91  918-927 ///
  repwgt92  928-937 ///
  repwgt93  938-947 ///
  repwgt94  948-957 ///
  repwgt95  958-967 ///
  repwgt96  968-977 ///
  repwgt97  978-987 ///
  repwgt98  988-997 ///
  repwgt99  998-1007 ///
  repwgt100 1008-1017 ///
  repwgt101 1018-1027 ///
  repwgt102 1028-1037 ///
  repwgt103 1038-1047 ///
  repwgt104 1048-1057 ///
  repwgt105 1058-1067 ///
  repwgt106 1068-1077 ///
  repwgt107 1078-1087 ///
  repwgt108 1088-1097 ///
  repwgt109 1098-1107 ///
  repwgt110 1108-1117 ///
  repwgt111 1118-1127 ///
  repwgt112 1128-1137 ///
  repwgt113 1138-1147 ///
  repwgt114 1148-1157 ///
  repwgt115 1158-1167 ///
  repwgt116 1168-1177 ///
  repwgt117 1178-1187 ///
  repwgt118 1188-1197 ///
  repwgt119 1198-1207 ///
  repwgt120 1208-1217 ///
  repwgt121 1218-1227 ///
  repwgt122 1228-1237 ///
  repwgt123 1238-1247 ///
  repwgt124 1248-1257 ///
  repwgt125 1258-1267 ///
  repwgt126 1268-1277 ///
  repwgt127 1278-1287 ///
  repwgt128 1288-1297 ///
  repwgt129 1298-1307 ///
  repwgt130 1308-1317 ///
  repwgt131 1318-1327 ///
  repwgt132 1328-1337 ///
  repwgt133 1338-1347 ///
  repwgt134 1348-1357 ///
  repwgt135 1358-1367 ///
  repwgt136 1368-1377 ///
  repwgt137 1378-1387 ///
  repwgt138 1388-1397 ///
  repwgt139 1398-1407 ///
  repwgt140 1408-1417 ///
  repwgt141 1418-1427 ///
  repwgt142 1428-1437 ///
  repwgt143 1438-1447 ///
  repwgt144 1448-1457 ///
  repwgt145 1458-1467 ///
  repwgt146 1468-1477 ///
  repwgt147 1478-1487 ///
  repwgt148 1488-1497 ///
  repwgt149 1498-1507 ///
  repwgt150 1508-1517 ///
  repwgt151 1518-1527 ///
  repwgt152 1528-1537 ///
  repwgt153 1538-1547 ///
  repwgt154 1548-1557 ///
  repwgt155 1558-1567 ///
  repwgt156 1568-1577 ///
  repwgt157 1578-1587 ///
  repwgt158 1588-1597 ///
  repwgt159 1598-1607 ///
  repwgt160 1608-1617 ///
using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/jan23srrep.dta", replace

********************************************************************************

* Set path to MAY 2023 replicate weight ASCII file
local datafile "$dir/data/raw/may23srrep.dat"

clear 

* Define variable positions and read-in widths using infix
infix ///
  qstnum     1-5 ///
  occurnum   6-7 ///
  repwgt0    8-17 ///
  repwgt1    18-27 ///
  repwgt2    28-37 ///
  repwgt3    38-47 ///
  repwgt4    48-57 ///
  repwgt5    58-67 ///
  repwgt6    68-77 ///
  repwgt7    78-87 ///
  repwgt8    88-97 ///
  repwgt9    98-107 ///
  repwgt10   108-117 ///
  repwgt11   118-127 ///
  repwgt12   128-137 ///
  repwgt13   138-147 ///
  repwgt14   148-157 ///
  repwgt15   158-167 ///
  repwgt16   168-177 ///
  repwgt17   178-187 ///
  repwgt18   188-197 ///
  repwgt19   198-207 ///
  repwgt20   208-217 ///
  repwgt21   218-227 ///
  repwgt22   228-237 ///
  repwgt23   238-247 ///
  repwgt24   248-257 ///
  repwgt25   258-267 ///
  repwgt26   268-277 ///
  repwgt27   278-287 ///
  repwgt28   288-297 ///
  repwgt29   298-307 ///
  repwgt30   308-317 ///
  repwgt31   318-327 ///
  repwgt32   328-337 ///
  repwgt33   338-347 ///
  repwgt34   348-357 ///
  repwgt35   358-367 ///
  repwgt36   368-377 ///
  repwgt37   378-387 ///
  repwgt38   388-397 ///
  repwgt39   398-407 ///
  repwgt40   408-417 ///
  repwgt41   418-427 ///
  repwgt42   428-437 ///
  repwgt43   438-447 ///
  repwgt44   448-457 ///
  repwgt45   458-467 ///
  repwgt46   468-477 ///
  repwgt47   478-487 ///
  repwgt48   488-497 ///
  repwgt49   498-507 ///
  repwgt50   508-517 ///
  repwgt51   518-527 ///
  repwgt52   528-537 ///
  repwgt53   538-547 ///
  repwgt54   548-557 ///
  repwgt55   558-567 ///
  repwgt56   568-577 ///
  repwgt57   578-587 ///
  repwgt58   588-597 ///
  repwgt59   598-607 ///
  repwgt60   608-617 ///
  repwgt61   618-627 ///
  repwgt62   628-637 ///
  repwgt63   638-647 ///
  repwgt64   648-657 ///
  repwgt65   658-667 ///
  repwgt66   668-677 ///
  repwgt67   678-687 ///
  repwgt68   688-697 ///
  repwgt69   698-707 ///
  repwgt70   708-717 ///
  repwgt71   718-727 ///
  repwgt72   728-737 ///
  repwgt73   738-747 ///
  repwgt74   748-757 ///
  repwgt75   758-767 ///
  repwgt76   768-777 ///
  repwgt77   778-787 ///
  repwgt78   788-797 ///
  repwgt79   798-807 ///
  repwgt80   808-817 ///
  repwgt81   818-827 ///
  repwgt82   828-837 ///
  repwgt83   838-847 ///
  repwgt84   848-857 ///
  repwgt85   858-867 ///
  repwgt86   868-877 ///
  repwgt87   878-887 ///
  repwgt88   888-897 ///
  repwgt89   898-907 ///
  repwgt90   908-917 ///
  repwgt91   918-927 ///
  repwgt92   928-937 ///
  repwgt93   938-947 ///
  repwgt94   948-957 ///
  repwgt95   958-967 ///
  repwgt96   968-977 ///
  repwgt97   978-987 ///
  repwgt98   988-997 ///
  repwgt99   998-1007 ///
  repwgt100  1008-1017 ///
  repwgt101  1018-1027 ///
  repwgt102  1028-1037 ///
  repwgt103  1038-1047 ///
  repwgt104  1048-1057 ///
  repwgt105  1058-1067 ///
  repwgt106  1068-1077 ///
  repwgt107  1078-1087 ///
  repwgt108  1088-1097 ///
  repwgt109  1098-1107 ///
  repwgt110  1108-1117 ///
  repwgt111  1118-1127 ///
  repwgt112  1128-1137 ///
  repwgt113  1138-1147 ///
  repwgt114  1148-1157 ///
  repwgt115  1158-1167 ///
  repwgt116  1168-1177 ///
  repwgt117  1178-1187 ///
  repwgt118  1188-1197 ///
  repwgt119  1198-1207 ///
  repwgt120  1208-1217 ///
  repwgt121  1218-1227 ///
  repwgt122  1228-1237 ///
  repwgt123  1238-1247 ///
  repwgt124  1248-1257 ///
  repwgt125  1258-1267 ///
  repwgt126  1268-1277 ///
  repwgt127  1278-1287 ///
  repwgt128  1288-1297 ///
  repwgt129  1298-1307 ///
  repwgt130  1308-1317 ///
  repwgt131  1318-1327 ///
  repwgt132  1328-1337 ///
  repwgt133  1338-1347 ///
  repwgt134  1348-1357 ///
  repwgt135  1358-1367 ///
  repwgt136  1368-1377 ///
  repwgt137  1378-1387 ///
  repwgt138  1388-1397 ///
  repwgt139  1398-1407 ///
  repwgt140  1408-1417 ///
  repwgt141  1418-1427 ///
  repwgt142  1428-1437 ///
  repwgt143  1438-1447 ///
  repwgt144  1448-1457 ///
  repwgt145  1458-1467 ///
  repwgt146  1468-1477 ///
  repwgt147  1478-1487 ///
  repwgt148  1488-1497 ///
  repwgt149  1498-1507 ///
  repwgt150  1508-1517 ///
  repwgt151  1518-1527 ///
  repwgt152  1528-1537 ///
  repwgt153  1538-1547 ///
  repwgt154  1548-1557 ///
  repwgt155  1558-1567 ///
  repwgt156  1568-1577 ///
  repwgt157  1578-1587 ///
  repwgt158  1588-1597 ///
  repwgt159  1598-1607 ///
  repwgt160  1608-1617 ///
  using `datafile'

* Scale replicate weights: divide by 10000
forval i = 0/160 {
    replace repwgt`i' = repwgt`i' / 10000
}

save "$dir/data/cleaned/may23srrep.dta", replace

********************************************************************************